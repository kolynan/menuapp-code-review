---
version: "1.0"
updated: "2026-02-24"
session: 30
---

# PublicMenu — README

Страница публичного меню ресторана. Клиент сканирует QR-код, видит меню,
собирает корзину, делает заказ. Работает в трёх режимах: зал, самовывоз, доставка.

## Файлы

| Файл | Что делает |
|---|---|
| `x.jsx` | Основной файл страницы (~2460 строк, 22 компонента) |
| `useTableSession.jsx` | Хук для работы со столами в зале (~758 строк) |
| `CartView.jsx` | Корзина (drawer снизу) |
| `MenuView.jsx` | Список блюд + фото-drawer |
| `CheckoutView.jsx` | Оформление заказа |
| `ModeTabs.jsx` | Переключатель зал/самовывоз/доставка |
| `StickyCartBar.jsx` | Плавающая кнопка корзины внизу экрана |
| `HelpModal.jsx` | Модалка помощи |
| `helpFab.jsx` | Кнопка "?" в углу экрана |

## Текущий RELEASE

| Файл | RELEASE | Дата |
|---|---|---|
| x.jsx | `260224-00 x RELEASE.txt` | 24 фев 2026 |
| useTableSession.jsx | `260224-00 useTableSession RELEASE.jsx` | 24 фев 2026 |
| CartView.jsx | `260224-01 CartView RELEASE.jsx` | 24 фев 2026 |
| MenuView.jsx | `260223-01 MenuView RELEASE.jsx` | 23 фев 2026 |
| CheckoutView.jsx | `260222-00 CheckoutView RELEASE.jsx` | 22 фев 2026 |
| ModeTabs.jsx | `260223-00 ModeTabs RELEASE.jsx` | 23 фев 2026 |
| StickyCartBar.jsx | `260222-00 StickyCartBar RELEASE.jsx` | 22 фев 2026 |
| HelpModal.jsx | `260222-00 HelpModal RELEASE.jsx` | 22 фев 2026 |
| helpFab.jsx | `260222-00 helpFab RELEASE.jsx` | 22 фев 2026 |

## Активные баги

Нет активных багов. (Подробности: BUGS.md)

---

## Changelog (UX/UI решения)

### Session 29 — 24 фев 2026

- Drawer корзины: автоматический scroll вверх при подтверждении стола
- Жёлтый инфо-блок: скрывается после подтверждения стола (убрана дублирующая информация)
- Кнопки-info увеличены до 44px для удобства тапа на мобильном
- Корзина сохраняется после обновления страницы (F5)
- Заказы не пропадают при автообновлении данных (polling)

### Session 27–28 — 23 фев 2026

- Photo Drawer: тап на блюдо открывает фото + описание + кнопка добавить
- Swipe-to-close для Photo Drawer
- Адаптив для блюд без фото (увеличенное описание вместо заглушки)
- Плавный переход экрана после оформления заказа (300мс задержка)
- Защита от пустого drawer при обновлении страницы (индикатор загрузки)

### Session 26 — 22 фев 2026

- Baseline: первая загрузка кода из Base44
- UX Phase 1 анализ — все 3 пункта уже реализованы
- UX Phase 2 план создан (10 пунктов улучшений)
