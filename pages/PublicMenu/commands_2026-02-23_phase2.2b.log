# Commands Log: Phase 2.2b (2026-02-23)
# MenuView.jsx — tap-anywhere, swipe-close, no-photo drawer

## Pre-check
git status
# Result: clean, nothing to commit

## FIX 1: Tap anywhere on card opens drawer
# Edit: Move onClick from photo div to CardContent in renderListCard
# Edit: Add stopPropagation on cart controls div in renderListCard
# Edit: Move onClick to Card, remove from photo div in renderTileCard
# Edit: Add stopPropagation on cart controls in renderTileCard
git add pages/PublicMenu/MenuView.jsx
git commit -m "fix: tap anywhere on card opens drawer, including no-photo dishes"
# [main 6bb823b]

## FIX 2: Swipe down to close drawer
# Edit: Add drawerRef, touchStartY, touchCurrentY refs
# Edit: Add ref, touch handlers, transition-transform, drag indicator to drawer div
git add pages/PublicMenu/MenuView.jsx
git commit -m "feat: swipe down to close photo drawer"
# [main 578c08b]

## FIX 3: Drawer no-photo styling
# Edit: Adaptive close button styling (bg-black/40 vs bg-slate-200)
# Edit: Conditional pt-14 padding when no photo
git add pages/PublicMenu/MenuView.jsx
git commit -m "fix: drawer close button and layout adapt for no-photo dishes"
# [main 3e4ed4b]

## Push
git push
# 13d9a1d..3e4ed4b main -> main

## Review
# correctness-reviewer subagent — found 3 P0, 6 P1
# style-reviewer subagent — found 2 P1, 3 P2, 2 P3
# codex exec — timed out (sandbox policy blocked file commands)

## Review Fixes
# Edit: Add swipeEligibleRef, useEffect for focus+transform reset
# Edit: Touch handler guards (e.touches[0] check, scrollTop check, preventDefault)
# Edit: Slide-away animation before unmount (translateY(100%) + setTimeout)
# Edit: aria-label on list card add-to-cart button
git add pages/PublicMenu/MenuView.jsx
git commit -m "fix(review): address reviewer findings for drawer and touch handling"
# [main f6ea5c5]
git push
# 3e4ed4b..f6ea5c5 main -> main
