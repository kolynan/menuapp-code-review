# Commands log — PartnerShell review 2026-02-22

## Step 1: Sub-reviewers (Claude Code agents)
# correctness-reviewer agent ran on PartnerShell_v1.0_BASE.jsx
# style-reviewer agent ran on PartnerShell_v1.0_BASE.jsx

## Step 2: Codex Round 1
codex exec "You are an independent code reviewer for a React/Base44 restaurant app (MenuApp).

RULES TO CHECK:
- usePartnerAccess() must only be inside <PartnerShell> wrapper
- ALL user-facing strings must use t('key') from useI18n, key format: page.section.element
- No hardcoded fallbacks like || 'Error'
- No conditional React hooks
- dangerouslySetInnerHTML needs sanitization (XSS risk)
- Every createObjectURL needs revokeObjectURL
- No console.log in production
- No dynamic Tailwind classes via string interpolation

YOUR TASK:
1. Read the code below
2. Read Claude's findings AND proposed patches below
3. For each patch: APPROVE, REJECT (with reason), or IMPROVE (provide better patch)
4. Add any issues Claude MISSED — with your own patch
5. For rejections, explain WHY and provide alternative fix

FORMAT your response as:
## Codex Patch Review: PartnerShell_v1.0_BASE.jsx
### Approved Patches (I agree with Claude's fix)
### Rejected Patches (wrong fix — here's why + alternative)
### Improved Patches (right idea, better implementation)
### New Issues + Patches (things Claude missed)
### Summary: Approved X, Rejected X, Improved X, New X

CODE:
$(cat pages/PartnerShell/PartnerShell_v1.0_BASE.jsx)

CLAUDE'S FINDINGS + PATCHES:
[15 patches: P1-P15 with code]"

# Result: Approved 7, Rejected 3, Improved 5, New 3

## Step 3: Codex Round 2
codex exec "Round 2: Here are the 2 disputed patches from Round 1.
For each one, I've provided my reasoning. Please review and give APPROVE/REJECT.

=== DISPUTED N2: Hardcoded language labels ===
[Claude's counter-argument about endonyms]

=== DISPUTED N3: Rename all i18n keys to page.section.element ===
[Claude's counter-argument about shared keys]"

# Result: Codex APPROVED both counter-arguments. Consensus reached.
